<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Analyze the Change of New York House Prices from 2000-2020</title>
  <meta name="description" content="Chapter 3 Data transformation | Analyze the Change of New York House Prices from 2000-2020" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Analyze the Change of New York House Prices from 2000-2020" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Analyze the Change of New York House Prices from 2000-2020" />
  
  
  

<meta name="author" content="Yu Cheng | Hui Li" />


<meta name="date" content="2022-05-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Houseprice</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources<span></span></a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation<span></span></a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#import-data"><i class="fa fa-check"></i><b>3.1</b> Import Data<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#data-transformation-1"><i class="fa fa-check"></i><b>3.2</b> Data Transformation<span></span></a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation.html"><a href="data-transformation.html#combine-the-five-tables-into-one"><i class="fa fa-check"></i><b>3.2.1</b> Combine the five tables into one<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation.html"><a href="data-transformation.html#add-one-new-column-to-the-dataset-and-rearrange-the-order-of-the-columns"><i class="fa fa-check"></i><b>3.2.2</b> Add one new column to the dataset and Rearrange the order of the columns<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="data-transformation.html"><a href="data-transformation.html#rename-and-display-all-variables-name-of-new-dataset"><i class="fa fa-check"></i><b>3.2.3</b> rename and display all variables name of new dataset<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="data-transformation.html"><a href="data-transformation.html#remove-the-columns-and-rows-we-dont-need"><i class="fa fa-check"></i><b>3.2.4</b> Remove the columns and rows we don’t need<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values<span></span></a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results<span></span></a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component<span></span></a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyze the Change of New York House Prices from 2000-2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 3</span> Data transformation<a href="data-transformation.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="import-data" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.1</span> Import Data<a href="data-transformation.html#import-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>##  [1] &quot;BOROUGH&quot;                        &quot;NEIGHBORHOOD&quot;                  
##  [3] &quot;BUILDING CLASS CATEGORY&quot;        &quot;TAX CLASS AT PRESENT&quot;          
##  [5] &quot;BLOCK&quot;                          &quot;LOT&quot;                           
##  [7] &quot;EASEMENT&quot;                       &quot;BUILDING CLASS AT PRESENT&quot;     
##  [9] &quot;ADDRESS&quot;                        &quot;APARTMENT NUMBER&quot;              
## [11] &quot;ZIP CODE&quot;                       &quot;RESIDENTIAL UNITS&quot;             
## [13] &quot;COMMERCIAL UNITS&quot;               &quot;TOTAL UNITS&quot;                   
## [15] &quot;LAND SQUARE FEET&quot;               &quot;GROSS SQUARE FEET&quot;             
## [17] &quot;YEAR BUILT&quot;                     &quot;TAX CLASS AT TIME OF SALE&quot;     
## [19] &quot;BUILDING CLASS AT TIME OF SALE&quot; &quot;SALE PRICE&quot;                    
## [21] &quot;SALE DATE&quot;</code></pre>
<pre><code>## # A tibble: 7,593 × 21
##    BOROUGH NEIGHBORHOOD `BUILDING CLASS CAT…` `TAX CLASS AT …` BLOCK   LOT EASEMENT `BUILDING CLAS…`
##    &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;                 &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;    &lt;chr&gt;           
##  1 2       BATHGATE     01 ONE FAMILY DWELLI… 1                 3037   101 NA       S0              
##  2 2       BATHGATE     01 ONE FAMILY DWELLI… 1                 3039    63 NA       A1              
##  3 2       BATHGATE     01 ONE FAMILY DWELLI… 1                 3045    12 NA       A1              
##  4 2       BATHGATE     01 ONE FAMILY DWELLI… 1                 3046    39 NA       A1              
##  5 2       BATHGATE     01 ONE FAMILY DWELLI… 1                 3048    28 NA       A1              
##  6 2       BATHGATE     01 ONE FAMILY DWELLI… 1                 3053   108 NA       A9              
##  7 2       BATHGATE     02 TWO FAMILY DWELLI… 1                 2912   135 NA       B1              
##  8 2       BATHGATE     02 TWO FAMILY DWELLI… 1                 2912   145 NA       B1              
##  9 2       BATHGATE     02 TWO FAMILY DWELLI… 1                 2912   145 NA       B1              
## 10 2       BATHGATE     02 TWO FAMILY DWELLI… 1                 2912   146 NA       B1              
## # … with 7,583 more rows, and 13 more variables: ADDRESS &lt;chr&gt;, `APARTMENT NUMBER` &lt;chr&gt;,
## #   `ZIP CODE` &lt;dbl&gt;, `RESIDENTIAL UNITS` &lt;dbl&gt;, `COMMERCIAL UNITS` &lt;dbl&gt;, `TOTAL UNITS` &lt;dbl&gt;,
## #   `LAND SQUARE FEET` &lt;dbl&gt;, `GROSS SQUARE FEET` &lt;dbl&gt;, `YEAR BUILT` &lt;dbl&gt;,
## #   `TAX CLASS AT TIME OF SALE` &lt;chr&gt;, `BUILDING CLASS AT TIME OF SALE` &lt;chr&gt;, `SALE PRICE` &lt;dbl&gt;,
## #   `SALE DATE` &lt;dttm&gt;</code></pre>
</div>
<div id="data-transformation-1" class="section level2 hasAnchor">
<h2><span class="header-section-number">3.2</span> Data Transformation<a href="data-transformation.html#data-transformation-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="combine-the-five-tables-into-one" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.2.1</span> Combine the five tables into one<a href="data-transformation.html#combine-the-five-tables-into-one" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before combine:</p>
<pre><code>##    Length     Class      Mode 
##     23615 character character</code></pre>
<p>After combine:</p>
<pre><code>##    Length     Class      Mode 
##     99183 character character</code></pre>
</div>
<div id="add-one-new-column-to-the-dataset-and-rearrange-the-order-of-the-columns" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.2.2</span> Add one new column to the dataset and Rearrange the order of the columns<a href="data-transformation.html#add-one-new-column-to-the-dataset-and-rearrange-the-order-of-the-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>## # A tibble: 6 × 22
##   BOROUGH Name  NEIGHBORHOOD `BUILDING CLAS…` `TAX CLASS AT …` BLOCK   LOT EASEMENT `BUILDING CLAS…`
##   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;    &lt;chr&gt;           
## 1 1       Manh… ALPHABET CI… 02 TWO FAMILY D… 1                  377    70 NA       B1              
## 2 1       Manh… ALPHABET CI… 07 RENTALS - WA… 2                  376    54 NA       C4              
## 3 1       Manh… ALPHABET CI… 07 RENTALS - WA… 2                  385    46 NA       C4              
## 4 1       Manh… ALPHABET CI… 07 RENTALS - WA… 2                  386    53 NA       C1              
## 5 1       Manh… ALPHABET CI… 07 RENTALS - WA… 2B                 389    47 NA       C4              
## 6 1       Manh… ALPHABET CI… 07 RENTALS - WA… 2                  390    57 NA       C7              
## # … with 13 more variables: ADDRESS &lt;chr&gt;, `APARTMENT NUMBER` &lt;chr&gt;, `ZIP CODE` &lt;dbl&gt;,
## #   `RESIDENTIAL UNITS` &lt;dbl&gt;, `COMMERCIAL UNITS` &lt;dbl&gt;, `TOTAL UNITS` &lt;dbl&gt;,
## #   `LAND SQUARE FEET` &lt;dbl&gt;, `GROSS SQUARE FEET` &lt;dbl&gt;, `YEAR BUILT` &lt;dbl&gt;,
## #   `TAX CLASS AT TIME OF SALE` &lt;chr&gt;, `BUILDING CLASS AT TIME OF SALE` &lt;chr&gt;, `SALE PRICE` &lt;dbl&gt;,
## #   `SALE DATE` &lt;dttm&gt;</code></pre>
</div>
<div id="rename-and-display-all-variables-name-of-new-dataset" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.2.3</span> rename and display all variables name of new dataset<a href="data-transformation.html#rename-and-display-all-variables-name-of-new-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>##  [1] &quot;BOROUGH&quot;                        &quot;Name&quot;                          
##  [3] &quot;NEIGHBORHOOD&quot;                   &quot;TAX CLASS AT PRESENT&quot;          
##  [5] &quot;BLOCK&quot;                          &quot;LOT&quot;                           
##  [7] &quot;EASEMENT&quot;                       &quot;BUILDING CLASS AT PRESENT&quot;     
##  [9] &quot;ADDRESS&quot;                        &quot;APARTMENT NUMBER&quot;              
## [11] &quot;ZIP CODE&quot;                       &quot;BUILDING_CLASS_CATEGORY&quot;       
## [13] &quot;RESIDENTIAL_UNITS&quot;              &quot;COMMERCIAL_UNITS&quot;              
## [15] &quot;TOTAL_UNITS&quot;                    &quot;LAND_SQUARE_FEET&quot;              
## [17] &quot;GROSS_SQUARE_FEET&quot;              &quot;YEAR_BUILT&quot;                    
## [19] &quot;TAX_CLASS_AT_TIME_OF_SALE&quot;      &quot;BUILDING_CLASS_AT_TIME_OF_SALE&quot;
## [21] &quot;SALE_PRICE&quot;                     &quot;SALE_DATE&quot;</code></pre>
</div>
<div id="remove-the-columns-and-rows-we-dont-need" class="section level3 hasAnchor">
<h3><span class="header-section-number">3.2.4</span> Remove the columns and rows we don’t need<a href="data-transformation.html#remove-the-columns-and-rows-we-dont-need" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before remove:</p>
<pre><code>## # A tibble: 6 × 22
##   BOROUGH Name      NEIGHBORHOOD  `TAX CLASS AT PRES…` BLOCK   LOT EASEMENT `BUILDING CLAS…` ADDRESS
##   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;    &lt;chr&gt;            &lt;chr&gt;  
## 1 1       Manhattan ALPHABET CITY 1                      377    70 NA       B1               235 EA…
## 2 1       Manhattan ALPHABET CITY 2                      376    54 NA       C4               719 EA…
## 3 1       Manhattan ALPHABET CITY 2                      385    46 NA       C4               248 EA…
## 4 1       Manhattan ALPHABET CITY 2                      386    53 NA       C1               233 EA…
## 5 1       Manhattan ALPHABET CITY 2B                     389    47 NA       C4               627 EA…
## 6 1       Manhattan ALPHABET CITY 2                      390    57 NA       C7               197 EA…
## # … with 13 more variables: `APARTMENT NUMBER` &lt;chr&gt;, `ZIP CODE` &lt;dbl&gt;,
## #   BUILDING_CLASS_CATEGORY &lt;chr&gt;, RESIDENTIAL_UNITS &lt;dbl&gt;, COMMERCIAL_UNITS &lt;dbl&gt;,
## #   TOTAL_UNITS &lt;dbl&gt;, LAND_SQUARE_FEET &lt;dbl&gt;, GROSS_SQUARE_FEET &lt;dbl&gt;, YEAR_BUILT &lt;dbl&gt;,
## #   TAX_CLASS_AT_TIME_OF_SALE &lt;chr&gt;, BUILDING_CLASS_AT_TIME_OF_SALE &lt;chr&gt;, SALE_PRICE &lt;dbl&gt;,
## #   SALE_DATE &lt;dttm&gt;</code></pre>
<p>Because there are some variables that are not useful for our study of house price changes in New York, and in addition to that, we do not need houses with transactions below $1,000, so we remove them.</p>
<pre><code>## # A tibble: 72,067 × 14
##    BOROUGH Name      NEIGHBORHOOD  BUILDING_CLASS_CAT… RESIDENTIAL_UNI… COMMERCIAL_UNITS TOTAL_UNITS
##    &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;                          &lt;dbl&gt;            &lt;dbl&gt;       &lt;dbl&gt;
##  1 1       Manhattan ALPHABET CITY 02 TWO FAMILY DWEL…                2                0           2
##  2 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…               20                0          20
##  3 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…               29                0          29
##  4 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…               10                0          10
##  5 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…               25                5          30
##  6 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…                8                0           8
##  7 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…                9                1          10
##  8 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…                9                0           9
##  9 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…               10                0          10
## 10 1       Manhattan ALPHABET CITY 07 RENTALS - WALKU…               10                0          10
## # … with 72,057 more rows, and 7 more variables: LAND_SQUARE_FEET &lt;dbl&gt;, GROSS_SQUARE_FEET &lt;dbl&gt;,
## #   YEAR_BUILT &lt;dbl&gt;, TAX_CLASS_AT_TIME_OF_SALE &lt;chr&gt;, BUILDING_CLASS_AT_TIME_OF_SALE &lt;chr&gt;,
## #   SALE_PRICE &lt;dbl&gt;, SALE_DATE &lt;dttm&gt;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/YuCheng222/Houseprice/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/YuCheng222/Houseprice/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
